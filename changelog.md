# Kairos-init changelog



## v0.5.0 notable features

 - Configs for the system are now bundled in kairos-init
 - Kairos binaries are now bundled in kairos-init(agent, immucore, kcrypt-challenger, etc)
 - Kairos fips binaries are now bundled in kairos-init
 - A generic skip step flag has been added to skip steps in the init process. Use `kairos-init steps-info` to see the steps available.
Multiple steps can be skipped by using `kairos-init --skip-step <step_name>,<step-name>` or even the full stages (install, init)
 - `Variant` flag has been removed. Now the variant is set depending if the image has a k8s provider or not.
 - `Registry` flag has been removed. It was not used for much and changes to the kairos-agent make it unneeded in the image building part.
 - Reduced the number of flags needed to build and image, only the `version` flag is now required.
 - Some services are now generated on demand (kairos-installer,recovery,interactive-installer, etc) instead of being bundled in the image, they are now generated by the cloud configs during runtime.
 - RHEL distros are now kind of supported, but not fully tested. If you want to use it, please test it and report any issues. The requirement of a subscription makes it difficult to test them automatically.
 - HTTP EFI Trusted Boot is now supported out of the box, with Auroraboot. Required modules to support it are now included in the images.
 - Red Hat family distros now include iproute packages by default to get them in line with the other distros.
 - Fixed an issue with docker creating temporal ssh keys during the build process, which were not removed and could cause issues in the image.
 - Validation is no longer a flag in the init process but its own subcommand.

Binary versions bundled

| Binary            | Version | URL                                                                           |
|-------------------|---------|-------------------------------------------------------------------------------|
| kairos-agent      | v2.21.6 | https://github.com/kairos-io/kairos-agent/releases/tag/v2.21.6                |
| immucore          | v0.11.1 | https://github.com/kairos-io/immucore/releases/tag/v0.11.1                    |
| kcrypt-challenger | v0.11.2 | https://github.com/kairos-io/kcrypt-discovery-challenger/releases/tag/v0.11.2 |
| provider-kairos   | v2.13.1 | https://github.com/kairos-io/provider-kairos/releases/tag/v2.13.1             |
| edgevpn           | v0.30.2 | https://github.com/mudler/edgevpn/releases/tag/v0.30.2                        |



###  Full Changelog between v0.4.9 and v0.5.0
- Fix goreleaser build (6a68184)
- Move cloud configs to use service manager conditional (#116) (76f6630)
- Move services from init to cloud config (#115) (f559488)
- Add generaic skip step flag (#114) (7cdff04)
- Several improvements to flags and commands (#113) (5de2111)
- Update Makefile (23cc0b5)
- :arrow_up: Update module github.com/kairos-io/kairos-sdk to v0.9.4 (#112) (3607811)
- :arrow_up: Update dependency kairos-io/kairos-agent to v2.21.5 (#111) (3974b9f)
- :arrow_up: Update dependency kairos-io/kairos-agent to v2.21.4 (#110) (f29bfba)
- Change remote recovery name to placeholder for customization (a4eda34)
- Fix initrd (#109) (0bde907)
- :arrow_up: Update dependency kairos-io/kairos-agent to v2.21.2 (#107) (d8019bc)
- Fix rhel package and include dmsquash-live in dracut (#106) (c2d6bcb)
- :arrow_up: Update dependency kairos-io/kairos-agent to v2.21.1 (#103) (37c9330)
- Include the v prefix in the k3s version (#104) (30e64ed)
- Fix fedora uki (#102) (62fb8e0)
- :arrow_up: Update dependency kairos-io/immucore to v0.11.0 (#101) (14ba74c)
- Workaround having the proper modules to support http efi uki boot (#100) (ad534e9)
- Add pmem modules to initramfs (#99) (3784e1d)
- :arrow_up: Update dependency kairos-io/kairos-agent to v2.21.0 (#98) (1d3dd85)
- Add iproute packages to red hat family (#97) (8d50e59)
- :arrow_up: Update module github.com/kairos-io/kairos-sdk to v0.9.3 (#93) (cdaaa22)
- :arrow_up: Update module github.com/mudler/yip to v1.16.1 (#95) (a96a4bd)
- Update packagemaps.go fo trusted boot Ubuntu (#94) (4dbb9be)
- Do not write errors when loading the overrides (09b552e)
- Introduce flags to skip installs (#91) (54f9382)
- Bump sdk to fix a logging issue (9feedf0)
- Allow overrides per binary (#89) (ce416d7)
- Drop kube-vip binary (#87) (fc04ab2)
- Only output dracut verbose if in debug (#88) (72493ab)
- :arrow_up: migrate config renovate.json (#86) (943677d)
- :arrow_up: Update dependency kairos-io/provider-kairos to v2.12.0 (#85) (34d3cfc)
- :arrow_up: Update module github.com/kairos-io/kairos-sdk to v0.9.1 (#84) (ddedc85)
- Drop variant flag (#80) (46d55c9)
- :arrow_up: Update dependency kube-vip/kube-vip to v0.9.1 (#83) (667317f)
- :arrow_up: migrate config renovate.json (#82) (c4e65be)
- Drop uneeded renovate managers (#81) (7dc174c)
- :arrow_up: Update dependency kairos-io/immucore to v0.10.0 (#79) (6fb9182)
- :arrow_up: Update dependency mudler/edgevpn to v0.30.2 (#78) (ee081c8)
- :arrow_up: Update dependency kairos-io/kairos-agent to v2.20.4 (#76) (1466814)
- :arrow_up: Update dependency kairos-io/kcrypt-challenger to v0.11.2 (#77) (27934d0)
- Bring all static package files into init directly (#61) (f43bd71)
- :arrow_up: Update quay.io/kairos/packages Docker tag to provider-kairos-system-2.11.0 (#75) (e7da561)
- :arrow_up: Update quay.io/kairos/framework Docker tag to v2.22.0 (#74) (ebfc004)
- :arrow_up: Update quay.io/kairos/packages Docker tag to kube-vip-utils-0.9.1 (#73) (af3078f)
- Forwardport the fix for rhel families (#72) (afaf7da)
- Migrate to cobra (#69) (1ee787c)
- :arrow_up: Update module github.com/kairos-io/kairos-sdk to v0.9.0 (#66) (ac21eb0)
- Bring fix for ssh host keysRemove any host keys generated during build (#68) (6c78e15)
- :arrow_up: Update quay.io/kairos/packages Docker tag to provider-kairos-system-2.10.4 (#64) (4da4508)
- :arrow_up: Update quay.io/kairos/packages Docker tag (#63) (7fa042d)
- :arrow_up: Update quay.io/kairos/framework Docker tag to v2.21.0 (#65) (6e9fdea)
- Drop imagelabel (#60) (56d53ad)
- Forwardport the fix for versions not having v in front (#59) (b833357)
- Bring dracut modules directly into init (#43) (c3b1f1e)
- :arrow_up: Update quay.io/kairos/packages Docker tag (#57) (c9fc646)
- :arrow_up: Update quay.io/kairos/framework Docker tag to v2.20.0 (#58) (d9d3139)
- :arrow_up: Update quay.io/kairos/framework Docker tag to v2.19.0 (#54) (8bf510f)
- :arrow_up: Update module github.com/kairos-io/kairos-sdk to v0.8.1 (#47) (beaf31c)
- :arrow_up: Update quay.io/kairos/framework Docker tag to v2.18.4 (#50) (cc6ab0c)
- :arrow_up: Update dependency go to v1.24.2 (#44) (64864d7)
- :arrow_up: Update quay.io/kairos/packages Docker tag to provider-kairos-system-2.10.3 (#48) (0caf7d5)
- :arrow_up: Update quay.io/kairos/packages Docker tag to k9s-utils-0.40.11 (#39) (cd5bcd3)
- Bump yip and sdk (#42) (ce463a6)
- :arrow_up: Update quay.io/kairos/packages Docker tag (#36) (130873d)
- rework and place things in different files (#41) (ee59114)
- Update renovate.json (c2883e0)